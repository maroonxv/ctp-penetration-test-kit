# CTP 穿透测试报告

## 2. 测试过程记录详情

### 2.1. 接口适应性

#### 2.1.1. 连通性

| 项目 | 内容 |
| :--- | :--- |
| **测试目标** | 检查期货程序化交易系统与交易信息系统的连通性是否正常 |
| **通过要求** | 期货程序化交易系统能够通过宏源期货交易信息系统（柜台）认证，并完成账号登录 |
| **测试过程** | 测试点2.1.1：验证登录测试账号通过宏源期货交易信息系统（柜台）认证、完成账号登录 |
| **判定** | |
| **改善建议** | N/A |

#### 2.1.2. 基础交易功能

| 项目 | 内容 |
| :--- | :--- |
| **测试目标** | 检查期货程序化交易系统是否具备基础交易功能 |
| **通过要求** | 期货程序化交易系统具备基础交易功能 |
| **测试过程** | 2.1.2.1：验证能正常下达开仓指令<br>2.1.2.2：验证能正常下达平仓指令<br>2.1.2.3：验证能正常下达撤单指令（测试撤单指令） |
| **判定** | |
| **改善建议** | N/A |

### 2.2. 异常监测

#### 2.2.1. 系统连接异常监测功能

| 项目 | 内容 |
| :--- | :--- |
| **测试目标** | 检查期货程序化交易系统是否具备系统连接状态监测功能 |
| **通过要求** | 期货程序化交易系统具备监测系统连接状态的功能 |
| **测试过程** | 2.2.1.1：验证与宏源期货交易信息系统（柜台）连接成功时，能正常显示连接成功<br>2.2.1.2：验证与宏源期货交易信息系统（柜台）连接断开，能正常显示连接断开<br>2.2.1.3：验证与宏源期货交易信息系统（柜台）连接断开，能正常显示重连成功 |
| **判定** | |
| **改善建议** | N/A |

#### 2.2.2. 报撤单笔数监测功能

| 项目 | 内容 |
| :--- | :--- |
| **测试目标** | 检查期货程序化交易系统是否具备报撤单笔数监测功能 |
| **通过要求** | 期货程序化交易系统具备报撤单笔数统计及监测的功能 |
| **测试过程** | 2.2.2.1：验证能正常统计报单笔数<br>2.2.2.2：验证能正常统计撤单数 |
| **判定** | |
| **改善建议** | N/A |

#### 2.2.3. 重复报单监测功能(选测项目)

| 项目 | 内容 |
| :--- | :--- |
| **测试目标** | 检查期货程序化交易系统是否具备重复报单监测功能 |
| **通过要求** | 期货程序化交易系统具备监测重复报单的功能 |
| **测试过程** | 2.2.3.1：验证能正常统计重复下达买卖方向、委托数量、委托价格均相同的交易指令开仓单的报单笔数<br>2.2.3.2：验证能正常统计重复下达买卖方向、委托数量、委托价格均相同的交易指令平仓单的报单笔数<br>2.2.3.3：验证能正常统计重复下达买卖方向、委托数量、委托价格均相同的交易指令撤单的报单笔数 |
| **判定** | |
| **改善建议** | N/A |

### 2.3. 阈值管理

#### 2.3.1. 阈值设置及预警功能

| 项目 | 内容 |
| :--- | :--- |
| **测试目标** | 检查期货程序化交易系统是否能够根据风险控制需要设置指标阈值，并在指标达到或超过设置阈值后进行预警。指标至少能够满足异常监测需要。 |
| **通过要求** | 期货程序化交易系统具备指标阈值设置的功能，并在指标达到或超过设置阈值后进行预警。 |
| **测试过程** | 2.3.1.1：验证提供报单笔数统计阈值设置功能<br> 2.3.1.2：验证报单笔数统计值达到或超过阈值时会给予警示<br>2.3.1.3：验证报撤单笔数统计与阈值设置功能<br>2.3.1.4：验证报撤单笔数统计值达到或超过阈值时会给予警示<br>2.3.1.5（选测）：验证重复报单笔数统计与阈值设置功能<br>2.3.1.6（选测）：验证重复报单笔数统计值达到或超过阈值时会给予警示 |
| **判定** | |
| **改善建议** | N/A |

### 2.4. 错误防范

#### 2.4.1. 交易指令检查功能

| 项目 | 内容 |
| :--- | :--- |
| **测试目标** | 检查期货程序化交易系统是否具备交易指令检查功能，防范下达错误交易指令 |
| **通过要求** | 期货程序化交易系统具备交易指令检查及拒绝错误交易指令下达的功能，包括合约代码、合约最小变动价位、单笔委托最大手数等错误 |
| **测试过程** | 2.4.1.1：验证订单合约代码错误时，系统能检查出错误并拒绝报单<br>2.4.1.2：验证订单价格最小变动价位错误时，系统能检查出错误并拒绝报单<br>2.4.1.3：验证订单委托数量超单笔最大委托数量时，系统能检查出错误并拒绝报单 |
| **判定** | |
| **改善建议** | N/A |

#### 2.4.2. 错误提示功能

| 项目 | 内容 |
| :--- | :--- |
| **测试目标** | 检查期货程序化交易系统是否具备接收交易所、交易信息系统返回错误提示的功能 |
| **通过要求** | 期货程序化交易系统具备接收并展示错误提示信息的功能，包括无足够资金开仓、无仓位可平、市场状态不允许等 |
| **测试过程** | 2.4.2.1：验证系统能正常接收并展示柜台返回的资金不足错误码<br>2.4.2.2：验证系统能正常接收并展示柜台返回的持仓不足错误码<br>2.4.2.3：验证系统能正常接收并展示柜台返回的市场状态错误码（需测试） |
| **判定** | |
| **改善建议** | N/A |

### 2.5. 应急处理

#### 2.5.1. 暂停交易功能

| 项目 | 内容 |
| :--- | :--- |
| **测试目标** | 检查期货程序化交易系统是否具备暂停下达交易指令功能 |
| **通过要求** | 期货程序化交易系统具备限制账号交易权限、暂停策略执行、强制账号退出等一种或多种暂停交易指令下达的功能 |
| **测试过程** | 2.5.1.1：验证系统可通过限制账号交易权限方式暂停交易<br>2.5.1.2：验证系统可通过暂停策略执行方式暂停交易（需显示测试时间，截全屏显示电脑时间）<br>2.5.1.3：验证系统可通过强制账号退出执行方式暂停交易（需显示测试时间，截全屏显示电脑时间） |
| **判定** | |
| **改善建议** | N/A |

#### 2.5.2. 批量撤单功能（选测项目）

| 项目 | 内容 |
| :--- | :--- |
| **测试目标** | 检查期货程序化交易系统是否具备批量撤单功能 |
| **通过要求** | 期货程序化交易系统具备部撤、全部撤单的批量撤单功能 |
| **测试过程** | 2.5.2.1：验证系统支持将多笔部分成交的报单进行批量撤单<br>2.5.2.2：验证系统支持将多笔已报单进行批量撤单 |
| **判定** | |
| **改善建议** | N/A |

### 2.6. 日志记录

#### 2.6.1. 日志记录功能

| 项目 | 内容 |
| :--- | :--- |
| **测试目标** | 检查期货程序化交易系统是否具备日志记录功能 |
| **通过要求** | 期货程序化交易系统具备日志记录功能，且能够满足业务追溯需要。记录内容包括但不限于交易日志、系统运行记录、监测记录、错误提示记录 |
| **测试过程** | 2.6.1.1：验证系统日志中会记录交易信息<br>2.6.1.2：验证系统日志中会记录系统运行信息<br>2.6.1.3：验证系统日志中会记录监测信息（补全）<br>2.6.1.4：验证系统日志中会记录错误提示信息（补全） |
| **判定** | |
| **改善建议** | N/A |
